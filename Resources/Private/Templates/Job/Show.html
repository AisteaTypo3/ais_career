<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Default" />

<f:section name="Main">
  <div class="aiscareer">
    <div class="aiscareer-container">
      <div class="aiscareer-detail" data-application-success="{f:if(condition: applicationSuccess, then: '1', else: '0')}" data-optin-state="{optInState}" data-job-uid="{job.uid}">
        <f:if condition="{listPid}">
          <div class="aiscareer-back">
            <f:link.page pageUid="{listPid}" class="aiscareer-back-link">
              <f:translate key="job.backToList" extensionName="AisCareer" />
            </f:link.page>
          </div>
        </f:if>
        <f:if condition="{jobPostingJsonLd}">
          <script type="application/ld+json"><f:format.raw>{jobPostingJsonLd}</f:format.raw></script>
        </f:if>
        <f:if condition="{applicationSuccess}">
          <div class="aiscareer-section">
            <div class="aiscareer-success">
              <f:translate key="success.applicationSent" extensionName="AisCareer" />
            </div>
          </div>
        </f:if>
        <f:if condition="{optInState} == 'pending'">
          <div class="aiscareer-section">
            <div class="aiscareer-success">
              <f:translate key="success.applicationOptInPending" extensionName="AisCareer" />
            </div>
          </div>
        </f:if>
        <f:if condition="{optInState} == 'confirmed'">
          <div class="aiscareer-section">
            <div class="aiscareer-success">
              <f:translate key="success.applicationOptInConfirmed" extensionName="AisCareer" />
            </div>
          </div>
        </f:if>
        <f:if condition="{optInState} == 'invalid'">
          <div class="aiscareer-section">
            <div class="aiscareer-success">
              <f:translate key="error.applicationOptInInvalid" extensionName="AisCareer" />
            </div>
          </div>
        </f:if>
        <div class="aiscareer-section">
          <h1>{job.title}</h1>
          <div class="aiscareer-meta">
            <f:if condition="{job.reference}">
              <f:translate key="job.meta.reference" extensionName="AisCareer" /> {job.reference}
            </f:if>
            <f:if condition="{job.locationLabel}"> | {job.locationLabel}</f:if>
            <f:if condition="{job.country}"> | {job.countryLabel}</f:if>
            <f:if condition="{job.contractType}"> | {job.contractType}</f:if>
            <f:if condition="{job.salaryDisplayValue}">
              | <f:translate key="job.meta.salary" extensionName="AisCareer" />: {job.salaryDisplayValue}
              <f:switch expression="{job.salaryPeriod}">
                <f:case value="hour"> <f:translate key="job.salary.period.hour" extensionName="AisCareer" /></f:case>
                <f:case value="day"> <f:translate key="job.salary.period.day" extensionName="AisCareer" /></f:case>
                <f:case value="week"> <f:translate key="job.salary.period.week" extensionName="AisCareer" /></f:case>
                <f:case value="month"> <f:translate key="job.salary.period.month" extensionName="AisCareer" /></f:case>
                <f:defaultCase> <f:translate key="job.salary.period.year" extensionName="AisCareer" /></f:defaultCase>
              </f:switch>
            </f:if>
            <f:if condition="{job.remotePossible}">
              | <f:translate key="job.meta.remotePossible" extensionName="AisCareer" />
            </f:if>
          </div>
        </div>

        <f:if condition="{job.description}">
          <div class="aiscareer-section">
            <h2><f:translate key="job.section.description" extensionName="AisCareer" /></h2>
            <f:format.html>{job.description}</f:format.html>
          </div>
        </f:if>

        <f:if condition="{job.responsibilities}">
          <div class="aiscareer-section">
            <h2><f:translate key="job.section.responsibilities" extensionName="AisCareer" /></h2>
            <f:format.html>{job.responsibilities}</f:format.html>
          </div>
        </f:if>

        <f:if condition="{job.qualifications}">
          <div class="aiscareer-section">
            <h2><f:translate key="job.section.qualifications" extensionName="AisCareer" /></h2>
            <f:format.html>{job.qualifications}</f:format.html>
          </div>
        </f:if>

        <f:if condition="{job.benefits}">
          <div class="aiscareer-section">
            <h2><f:translate key="job.section.benefits" extensionName="AisCareer" /></h2>
            <f:format.html>{job.benefits}</f:format.html>
          </div>
        </f:if>

        <f:if condition="{job.attachments}">
          <div class="aiscareer-section">
            <h2><f:translate key="job.section.attachments" extensionName="AisCareer" /></h2>
            <ul>
              <f:for each="{job.attachments}" as="file">
                <li>
                  <f:link.typolink parameter="{file.originalResource.publicUrl}" target="_blank">{file.originalResource.name}</f:link.typolink>
                </li>
              </f:for>
            </ul>
          </div>
        </f:if>

        <f:if condition="{contact}">
          <div class="aiscareer-section aiscareer-contact">
            <h2><f:translate key="job.section.contact" extensionName="AisCareer" /></h2>
            <div class="aiscareer-contact-card">
              <f:if condition="{contact.image}">
                <div class="aiscareer-contact-image">
                  <f:image image="{contact.image}" alt="{contact.name}" width="140" height="140" />
                </div>
              </f:if>
              <div class="aiscareer-contact-details">
                <f:if condition="{contact.name}">
                  <div class="aiscareer-contact-name">{contact.name}</div>
                </f:if>
                <f:if condition="{contact.title}">
                  <div class="aiscareer-contact-title">{contact.title}</div>
                </f:if>
                <f:if condition="{contact.phone}">
                  <div class="aiscareer-contact-row">
                    <span class="aiscareer-contact-label"><f:translate key="contact.phone" extensionName="AisCareer" />:</span>
                    <a href="tel:{contact.phone}" class="aiscareer-contact-link">{contact.phone}</a>
                  </div>
                </f:if>
                <f:if condition="{contact.email}">
                  <div class="aiscareer-contact-row">
                    <span class="aiscareer-contact-label"><f:translate key="contact.email" extensionName="AisCareer" />:</span>
                    <a href="mailto:{contact.email}" class="aiscareer-contact-link">{contact.email}</a>
                  </div>
                </f:if>
              </div>
            </div>
          </div>
        </f:if>

        <f:if condition="{settings.applicationEnabled}">
          <div class="aiscareer-section">
            <h2><f:translate key="job.section.applyNow" extensionName="AisCareer" /></h2>
            <f:render partial="Job/ApplicationForm" arguments="{job: job, application: application, applicationErrors: applicationErrors, settings: settings}" />
          </div>
        </f:if>
      </div>
    </div>
  </div>
</f:section>
</html>
